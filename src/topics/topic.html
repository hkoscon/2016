{% extends '../layouts/default.html' %}

{% set speaker = speakers[topic.speaker] %}
{% set lang = langs[topic.lang] %}
{% set lang_slide = langs[topic.lang_slide] %}

{% block og_url %}{{ site_host }}{{ url('topic', topic_id) }}{% endblock %}

{% block title %}{{ topic.title }}{% endblock %}

{% block description %}
  <h2>Speaker: {{ speaker.name }}{% if speaker.nationality %} ({{ speaker.nationality }}){% endif %}</h2>
  {% if speaker.community %}
    {% if speaker.community.url %}
      <p>Community: <a href="{ speaker.community.url }" target="_blank">{{ speaker.community.name }}</a></p>
    {% else %}
      <p>Community: {{ speaker.community.name }}</p>
    {% endif %}
  {% endif %}
  <p>Category: {{ topic.category }}</p>
  <p>Language: {{ lang.name }}{% if topic.lang_slide %} (with {{ lang_slide.name }} Slides){% endif %}</p>
  {% if topic.tags && (topic.tags.length > 0) %}<p><strong>Tag:</strong> {% for tag in topic.tags %}<span class="tag">{{ tags[tag].name
    }}</span> {% endfor %}</p>{% endif %}
  {% if topic.level %}
    <div class="progress" style="width: 80%;">
    {% if topic.level == "beginners" %}
      <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="3" style="width: 33%;">
        Beginners
      </div>
    {% elseif topic.level == "intermediate" %}
      <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="3" style="width: 66%;">
        Intermediate
      </div>
    {% elseif topic.level == "advanced" %}
      <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="1" aria-valuemin="0" aria-valuemax="3" style="width: 100%;">
        Advanced
      </div>
    {% endif %}
    </div>
  {% endif %}
{% endblock %}

{% block content %}
  <div class="container">

    <div class="row speaker">
      <div class="col-sm-3">
        <img src="{{ speaker.portrait }}" alt="Photo of {{ speaker.name }}" class="img-thumbnail">
      </div>
      <div class="col-sm-9">
        <h3>About Speaker</h3>
        {{ displayDesc(speaker.description) }}
      </div>
      <!-- TODO: add social links (e.g. github) -->
    </div>

    <div class="row topic">
      <h3>About the Topic</h3>
      {{ displayDesc(topic.description) }}
    </div>

  </div>
{% endblock %}
